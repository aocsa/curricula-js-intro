<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../style/shared-style.html">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">

<dom-module id="unit-README">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <template strip-whitespace="">
    
    
    <style include="shared-style">        
    /*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{box-sizing:border-box}input,select,textarea,button{font:13px/1.4 Helvetica,arial,nimbussansl,liberationsans,freesans,clean,sans-serif,"Segoe UI Emoji","Segoe UI Symbol"}body{font:13px/1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";color:#333;background-color:#fff}a{color:#4078c0;text-decoration:none}a:hover,a:active{text-decoration:underline}hr,.rule{height:0;margin:15px 0;overflow:hidden;background:transparent;border:0;border-bottom:1px solid #ddd}hr:before,.rule:before{display:table;content:""}hr:after,.rule:after{display:table;clear:both;content:""}h1,h2,h3,h4,h5,h6{margin-top:15px;margin-bottom:15px;line-height:1.1}h1{font-size:30px}h2{font-size:21px}h3{font-size:16px}h4{font-size:14px}h5{font-size:12px}h6{font-size:11px}small{font-size:90%}blockquote{margin:0}ul,ol{padding:0;margin-top:0;margin-bottom:0}ol ol,ul ol{list-style-type:lower-roman}ul ul ol,ul ol ol,ol ul ol,ol ol ol{list-style-type:lower-alpha}dd{margin-left:0}tt,code{font-family:Consolas, "Liberation Mono", Menlo, Courier, monospace;font-size:12px}pre{margin-top:0;margin-bottom:0;font:12px Consolas,"Liberation Mono",Menlo,Courier,monospace}html,body{color:black}#wrapper{-webkit-font-smoothing:antialiased;line-height:1.6;padding:3px;background:#fff;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;color:#333}p{margin:1em 0}a{color:#4183c4;text-decoration:none}#wrapper{background-color:#fff;font-size:16px;line-height:1.6}#wrapper>*:first-child{margin-top:0 !important}#wrapper>*:last-child{margin-bottom:0 !important}@media screen{#wrapper{}}h1,h2,h3,h4,h5,h6{position:relative;font-weight:700;line-height:1.4;color:#333}h1{padding-bottom:.3em;font-size:2.25em;line-height:1.2;border-bottom:1px solid #eee}h2{padding-bottom:0.3em;font-size:1.75em;line-height:1.225;border-bottom:1px solid #eee}h3{font-size:1.5em;line-height:1.43}h4{font-size:1.25em}h5{font-size:1em}h6{color:#777;font-size:1em}p,blockquote,ul,ol,dl,table,pre{margin-top:0;margin-bottom:16px}hr{height:4px;padding:0;margin:16px 0;background-color:#e7e7e7;border:0 none}ul,ol{padding-left:2em}ul.no-list,ol.no-list{padding:0;list-style-type:none}ul ul,ul ol{margin-top:0;margin-bottom:0}ol ol,ol ul{margin-top:0;margin-bottom:0}li>p{margin-top:16px}dl{padding:0}dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}dl dd{padding:0 16px;margin-bottom:16px}blockquote{padding:0 15px;margin-left:0;color:#777;border-left:4px solid #ddd}blockquote>:first-child{margin-top:0}blockquote>:last-child{margin-bottom:0}table{display:block;width:100%;overflow:auto}table th{font-weight:700;padding:6px 13px;border:1px solid #ddd}table td{padding:6px 13px;border:1px solid #ddd}table tr{background-color:#fff;border-top:1px solid #ccc}table tr:nth-child(2n){background-color:#f8f8f8}img{max-width:100%;-moz-box-sizing:border-box;box-sizing:border-box}span.frame{display:block;overflow:hidden}span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}span.frame span img{display:block;float:left}span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}span.align-center{display:block;overflow:hidden;clear:both}span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}span.align-center span img{margin:0 auto;text-align:center}span.align-right{display:block;overflow:hidden;clear:both}span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}span.align-right span img{margin:0;text-align:right}span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}span.float-left span{margin:13px 0 0}span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}code,tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,0.04);border-radius:3px}code:before,code:after{letter-spacing:-.2em;content:"\00a0"}tt:before,tt:after{letter-spacing:-.2em;content:"\00a0"}code br,tt br{display:none}del code{text-decoration:inherit;vertical-align:text-top}pre>code{padding:0;margin:0;font-size:100%;white-space:pre;background:transparent;border:0}.highlight{margin-bottom:16px}.highlight pre{padding:16px;margin-bottom:0;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}pre{padding:16px;margin-bottom:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px;word-wrap:normal}pre code,pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}pre code:before,pre code:after{content:normal}pre tt:before,pre tt:after{content:normal}.poetry pre{font-family:Georgia, Garamond, serif !important;font-style:italic;font-size:110% !important;line-height:1.6em;display:block;margin-left:1em}.poetry pre code{font-family:Georgia, Garamond, serif !important;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;white-space:pre-wrap}sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;vertical-align:super;position:relative}sub{vertical-align:sub;top:-1px}@media print{body{background:#fff}img,table,figure{page-break-inside:avoid}#wrapper{background:#fff;border:none !important;font-size:12px}pre code{overflow:visible}}@media screen{body.inverted{color:#eee !important;border-color:#555;box-shadow:none}.inverted #wrapper,.inverted hr,.inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted th,.inverted .math,.inverted caption,.inverted dd,.inverted dt,.inverted blockquote{color:#eee !important;border-color:#555;box-shadow:none}.inverted td,.inverted th{background:#333}.inverted pre,.inverted code,.inverted tt{background:#eeeeee !important;color:#111}.inverted h2{border-color:#555555}.inverted hr{border-color:#777;border-width:1px !important}::selection{background:rgba(157,193,200,0.5)}h1::selection{background-color:rgba(45,156,208,0.3)}h2::selection{background-color:rgba(90,182,224,0.3)}h3::selection,h4::selection,h5::selection,h6::selection,li::selection,ol::selection{background-color:rgba(133,201,232,0.3)}code::selection{background-color:rgba(0,0,0,0.7);color:#eeeeee}code span::selection{background-color:rgba(0,0,0,0.7) !important;color:#eeeeee !important}a::selection{background-color:rgba(255,230,102,0.2)}.inverted a::selection{background-color:rgba(255,230,102,0.6)}td::selection,th::selection,caption::selection{background-color:rgba(180,237,95,0.5)}.inverted{background:#0b2531;background:#252a2a}.inverted #wrapper{background:#252a2a}.inverted a{color:#acd1d5}}.highlight{background:#fff}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k,.highlight .o{font-weight:700}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:700}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:700;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:700}.highlight .gu{color:purple;font-weight:700}.highlight .gt{color:#a00}.highlight .kc,.highlight .kd,.highlight .kn,.highlight .kp,.highlight .kr{font-weight:700}.highlight .kt{color:#458;font-weight:700}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .n{color:#333}.highlight .na{color:teal}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:700}.highlight .no{color:teal}.highlight .ni{color:purple}.highlight .ne,.highlight .nf{color:#900;font-weight:700}.highlight .nn{color:#555}.highlight .nt{color:navy}.highlight .nv{color:teal}.highlight .ow{font-weight:700}.highlight .w{color:#bbb}.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#099}.highlight .sb,.highlight .sc,.highlight .sd,.highlight .s2,.highlight .se,.highlight .sh,.highlight .si,.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc,.highlight .vg,.highlight .vi{color:teal}.highlight .il{color:#099}.highlight .gc{color:#999;background-color:#EAF2F5}.type-csharp .highlight .k,.type-csharp .highlight .kt{color:blue}.type-csharp .highlight .nf{color:#000;font-weight:400}.type-csharp .highlight .nc{color:#2b91af}.type-csharp .highlight .nn{color:#000}.type-csharp .highlight .s,.type-csharp .highlight .sc{color:#a31515}.type-csharp .highlight .k,.type-csharp .highlight .kt{color:#00F}.type-csharp .highlight .nf{color:#000;font-weight:normal}.type-csharp .highlight .nc{color:#2B91AF}.type-csharp .highlight .nn{color:#000}.type-csharp .highlight .s,.type-csharp .highlight .sc{color:#A31515}body.dark #wrapper{background:transparent !important;box-shadow:none !important}
    .hljs{display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:bold}.hljs-number,.hljs-literal,.hljs-variable,.hljs-template-variable,.hljs-tag .hljs-attr{color:#008080}.hljs-string,.hljs-doctag{color:#d14}.hljs-title,.hljs-section,.hljs-selector-id{color:#900;font-weight:bold}.hljs-subst{font-weight:normal}.hljs-type,.hljs-class .hljs-title{color:#458;font-weight:bold}.hljs-tag,.hljs-name,.hljs-attribute{color:#000080;font-weight:normal}.hljs-regexp,.hljs-link{color:#009926}.hljs-symbol,.hljs-bullet{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:bold}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:bold}#mkreplaced-toc{list-style-position:inside;padding:0;margin:0 0 0 1rem;list-style-type:none}#mkreplaced-toc li::before{content:''}#mkreplaced-toc li{font-size:1rem;line-height:1.25;font-weight:normal}#mkreplaced-toc li ul{font-size:1.3rem;font-weight:300;padding:.5rem 0;margin:0 0 0 1rem}#mkreplaced-toc li.missing{list-style-type:none !important}#mkreplaced-toc.max-1 ul,#mkreplaced-toc.max1 ul{display:none}#mkreplaced-toc.max-2 ul ul,#mkreplaced-toc.max2 ul ul{display:none}#mkreplaced-toc.max-3 ul ul ul,#mkreplaced-toc.max3 ul ul ul{display:none}#mkreplaced-toc.max-4 ul ul ul ul,#mkreplaced-toc.max4 ul ul ul ul{display:none}#mkreplaced-toc.max-5 ul ul ul ul ul,#mkreplaced-toc.max5 ul ul ul ul ul{display:none}.rtl{direction:rtl;text-align:right}@media print{body{background:white;line-height:1.4}html,body,#wrapper{max-width:100%;width:100%;-webkit-text-size-adjust:none;-webkit-perspective:none !important;box-sizing:border-box;width:auto;border:0;margin:0;padding:0;float:none;-moz-box-shadow:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}mark{background:transparent !important}h1,h2,h3,h4,h5,h6{page-break-after:avoid}p,h2,h3{orphans:3;widows:3}section{page-break-before:avoid}pre>code{white-space:pre;word-break:break-word}#generated-toc,#firstdiff,#toc-title,#mkdocumentprogress,#mkincludechart,#mkprogressbar1,#mkprogressbar2,.mkscrollmeter,#alllinks,.popup{display:none !important}.suppressprintlinks a{color:inherit !important;text-decoration:none !important;border-bottom:none !important;cursor:default !important}.hrefafterlinktext #wrapper a:link:after,.hrefafterlinktext #wrapper a:visited:after{content:" (" attr(href) ") ";font-size:90%;opacity:0.9}.nocodebreak pre{page-break-inside:avoid}img,table,figure{page-break-inside:avoid}.breakfootnotes .footnotes{page-break-before:always}.breakfootnotes .footnotes hr{display:none}#mktoctitle{display:block}#print-title{display:block;border-bottom:solid 1px #666}#wrapper pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}#wrapper #generated-toc-clone,#wrapper #mkreplaced-toc{display:block}.task-list .task-list-item{list-style-type:none !important}.task-list .gh-complete.task-list-item .task-list-item-checkbox:before{content:'\2713';background:#838387}.task-list .task-list-item-checkbox{-webkit-appearance:none;position:relative}.task-list .task-list-item-checkbox:before{content:' ';border:solid 1px #aaa;width:1em;height:1em;display:block;border-radius:2px;left:-20px;top:-.75em;color:white;font-weight:bold;line-height:1;text-align:center;position:absolute}}
    #wrapper #generated-toc-clone,#wrapper #mkreplaced-toc,#wrapper #generated-toc-clone ul,#wrapper #mkreplaced-toc ul{list-style-position:inside}#wrapper #generated-toc-clone li.missing,#wrapper #mkreplaced-toc li.missing{list-style-type: none!important}#wrapper #generated-toc-clone,#wrapper #mkreplaced-toc{list-style-type: upper-roman}#wrapper #generated-toc-clone>li>ul,#wrapper #mkreplaced-toc>li>ul {list-style-type: decimal}#wrapper #generated-toc-clone>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul{list-style-type: decimal-leading-zero}#wrapper #generated-toc-clone>li>ul>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul>li>ul{list-style-type: lower-greek}#wrapper #generated-toc-clone>li>ul>li>ul>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul>li>ul>li>ul{list-style-type: disc}#wrapper #generated-toc-clone>li>ul>li>ul>li>ul>li>ul>li>ul,#wrapper #mkreplaced-toc>li>ul>li>ul>li>ul>li>ul>li>ul{list-style-type: square}#wrapper #generated-toc-clone,#wrapper #mkreplaced-toc{list-style-position:outside!important;margin-left:2rem;}
    </style>

    <style id="mkprintstyles">@media print{#wrapper #generated-toc-clone,#generated-toc{display:none!important}
    html,body,#wrapper{font-size:10pt!important}
    }
    </style>
        
    <div id="wrapper">
        <ul>
<li>Tipo: <code>lectura</code></li>
<li>Formato: <code>self-paced</code></li>
<li>Duración: <code>30min</code></li>
</ul>
<hr />
<p>Las funciones puras tienen aplicaciones en muchos ámbitos, entre ellos la<br />
programación funcional. También facilitan la concurrencia, y como veremos en<br />
siguientes etapas serán muy empleadas en aplicaciones basadas en React+Redux.</p>
<p>Anteriormente mencionamos que una función es básicamente un proceso que toma una<br />
entrada o argumentos, y produce una salida o valor de retorno. También hemos<br />
visto que las funciones se emplean con ciertos propósitos:</p>
<ul>
<li><em>Manipulación de datos:</em> Transforma una serie de argumentos o entrada en un<br />
valor de retorno. Un ejemplo de esto sería hacer <em>flattening</em><sup>1</sup> de<br />
un objeto muy anidado.</li>
<li><em>Procedimientos:</em> Una función puede ser llamada para realizar una serie de<br />
pasos (receta). <strong>La secuencia es conocida como procedimiento</strong> (primero haz<br />
esto, luego haz aquello), el estilo de programación bajo este estilo se<br />
denomina <strong>programación por procedimientos</strong>, la cual está enmarcada en la<br />
<strong>programación imperativa</strong>, donde se usan sentencias que modifican o mutan el<br />
estado del programa, de la misma forma en la que mandatos imperativos expresan<br />
comandos en nuestro lenguaje natural, un programa imperativo consiste en<br />
comandos que la computadora debe realizar. La programación imperativa se<br />
enfoca en describir <em>cómo</em> un programa opera, mientras que en la programación<br />
funcional nos enfocamos en <em>qué</em> debe realizar un programa sin especificar<br />
<em>cómo</em> dicho programa debe alcanzar el resultado.</li>
<li><em>Entrada/Salida:</em> Algunas funciones existen para comunicarse con otras partes<br />
o subsistemas, por ejemplo: la pantalla, almacenamiento, registro de<br />
operaciones en disco, operaciones a través de la red.</li>
</ul>
<p>Una vez vistas las diversas aplicaciones de las funciones procedamos a dejar<br />
claro que significa una <em>función pura</em>.</p>
<blockquote>
<p>Toda función que dados los mismos inputs siempre retorna lo mismo, y sin<br />
efectos secundarios, es una <em>función pura</em>.</p>
</blockquote>
<p>En <strong>programación funcional</strong>, el comportamiento de las funciones depende de una<br />
y solo una cosa: los argumentos pasados explícitamente a la función. Esto quiere<br />
decir que si proporcionas los mismos datos como argumentos o entrada, la función<br />
siempre debe producir el mismo valor de retorno. A esta propiedad se le conoce<br />
como <strong>transparencia referencial</strong>.</p>
<p>Lo mencionado en el párrafo anterior, hace que en las funciones puras sea más<br />
fácil apreciar todas las circunstancias que pueden presentarse, incluyendo<br />
aquellos escenarios que resultan en errores. Escribir funciones que solo<br />
dependen de sus argumentos para definir su comportamiento también facilita<br />
replicar <em>bugs</em> o poner en práctica <em>Test-Driven Development</em> (TDD por sus<br />
siglas en inglés).</p>
<p>Comencemos desarrollando nuestros casos de pruebas:</p>
<p><strong>lowercaser.test.js.</strong></p>
<pre class="hljs" class="language-js"><code>const lowerCaser = require('./lowercaser')

test('Should take an input string and returns it lowercased', () =&gt; {
  expect(lowerCaser('LOREM IPSUM')).toBe('lorem ipsum')
})
</code></pre>
<hr />
<p>NOTA:</p>
<p>A lo largo del curso usaremos <a href="https://facebook.github.io/jest/">Jest</a> como <em>framework</em> para la ejecución de<br />
pruebas unitarias. Puedes instalar <strong>Jest</strong> por medio de <code>npm</code> al ejecutar el<br />
siguiente comando:</p>
<pre class="hljs" class="language-js"><code>npm install --save-dev jest
</code></pre>
<p>O también puedes usar <code>yarn</code> al ejecutar:</p>
<pre class="hljs" class="language-js"><code>yarn add --dev jest
</code></pre>
<p>Para correr las pruebas haremos:</p>
<pre class="hljs" class="language-js"><code>yarn run jest -- fichero.test.js
</code></pre>
<hr />
<p>Ahora, pasemos a implementar lo especificado en nuestros casos de pruebas:</p>
<p><strong>lowercaser.js.</strong></p>
<pre class="hljs" class="language-js"><code>const lowerCaser = input =&gt; input.toString().toLowerCase()

module.exports = lowerCaser
</code></pre>
<p>Una vez completada nuestra implementación inicial, corroboremos nuestro trabajo<br />
por medio de la ejecución de las pruebas:</p>
<pre class="hljs" class="language-js"><code>$ yarn run jest -- lowercaser.test.js

PASS  ./lowercaser.test.js
   ✓ Should take an input string and returns it lowercased (15ms)

   Test Suites: 1 passed, 1 total
   Tests:       1 passed, 1 total
   Snapshots:   0 total
   Time:        0.859s, estimated 1s
   Ran all test suites matching &quot;lowercaser.test.js&quot;.
</code></pre>
<p>Parece que todo funciona como se espera. Continuemos.</p>
<h2>Dada la misma entrada, devuelve siempre la misma salida</h2>
<p>Con nuestra función <code>lowerCaser()</code>, podemos reemplazar la llamada de la función<br />
por el resultado, y el código tendrá el mismo significado <code>lowerCaser('LOREM IPSUM')</code> siempre será lo mismo que <code>lorem ipsum</code> en su programa, sin importar el<br />
contexto, cuántas veces lo llame o cuándo lo llame.</p>
<p>Pero no se puede decir lo mismo de todas las funciones. Algunas funciones se<br />
basan en información distinta de los argumentos que se transmiten para producir<br />
resultados. Considera este ejemplo:</p>
<pre class="hljs" class="language-js"><code>Math.random() // =&gt; 0.4011148700956255
Math.random() // =&gt; 0.8533405303023756
Math.random() // =&gt; 0.3550692005082965
</code></pre>
<p>A pesar de que no pasamos ningún argumento en ninguna de las llamadas a la<br />
función, todos produjeron resultados diferentes, lo que significa que<br />
<code>Math.random()</code> <strong>no es una función pura</strong>. <code>Math.random()</code> produce un nuevo<br />
número aleatorio entre 0 y 1 cada vez que lo ejecutas, entonces es obvio que no<br />
se podría simplemente reemplazarlo por <code>0.4011148700956255</code> sin cambiar el<br />
significado del programa.</p>
<p>Eso produciría el mismo resultado cada vez que se ejecute el programa. Cuando le<br />
pedimos a la computadora un número aleatorio, por lo general significa que<br />
queremos un resultado diferente al que obtuvimos la última vez. ¿Cuál es el<br />
sentido de un par de dados con los mismos números impresos en todas las caras? A<br />
veces tenemos que preguntarle a la computadora por la hora actual. No vamos a<br />
entrar en detalles de cómo funcionan las funciones de tiempo. Por ahora,<br />
simplemente copia este código:</p>
<pre class="hljs" class="language-js"><code>const time = () =&gt; new Date().toLocaleTimeString()
time() // =&gt; &quot;5:15:45 PM&quot;
</code></pre>
<p>¿Qué sucedería si reemplazo la llamada de la función <code>time()</code> con la hora<br />
actual? Siempre diría que es la misma hora: la hora con la cual la llamada a la<br />
función se reemplazó. En otras palabras, solo podría producir la salida correcta<br />
una vez al día, y solo si se ejecuta el programa en el momento exacto en que la<br />
hora se reemplazó por la función.</p>
<p>Entonces, claramente, <code>time()</code> no es como la función <code>lowerCaser()</code>.</p>
<p>Una función solo es pura si, dada la misma entrada, siempre producirá la misma<br />
salida. Tal vez recuerdes esta regla de la clase de álgebra: los mismos valores<br />
de entrada se asignarán siempre al mismo valor de salida. Sin embargo, muchos<br />
valores de entrada se pueden asignar al mismo valor de salida. Por ejemplo, la<br />
siguiente función es pura:</p>
<pre class="hljs" class="language-js"><code>const highpass = (cutoff, value) =&gt; value &gt;= cutoff;
</code></pre>
<p>Los mismos valores de entrada se asignarán siempre al mismo valor de salida:</p>
<pre class="hljs" class="language-js"><code>highpass(5, 5) // =&gt; true
highpass(5, 5) // =&gt; true
highpass(5, 5) // =&gt; true
</code></pre>
<p>Muchos valores de entrada tal vez se pueden asignar al mismo valor de salida:</p>
<pre class="hljs" class="language-js"><code>highpass(5, 123) // true
highpass(5, 6)   // true
highpass(5, 18)  // true
highpass(5, 1)   // false
highpass(5, 3)   // false
highpass(5, 4)   // false
</code></pre>
<h2>Efectos colaterales</h2>
<p>En este punto cabe aclarar que las funciones puras no producen <strong>efectos<br />
colaterales</strong> o <em>side-effects</em>, pues el propósito de vida de una función pura es<br />
únicamente calcular el valor de retorno, solo eso y nada más.</p>
<p>En las ciencias de la computación, una función o expresión se dice que tiene<br />
efectos colaterales si modifica algún estado fuera de su ámbito (<em>scope</em>), o si<br />
tiene interacciones observables con la función que la invocó, o si modifica el<br />
mundo exterior aparte de retornar el valor esperado. Por ejemplo, una función<br />
particular podría modificar una variable global (estado fuera de su ámbito),<br />
modificar uno de los argumentos mutables (interactuar con la función la invocó),<br />
levantar una excepción, escribir datos a un fichero o llamar a otra función que<br />
si tiene efectos colaterales. Ten en cuenta que ante la presencia de funciones<br />
con efectos colaterales, el comportamiento de un programa podría depender de su<br />
historia, esto quiere decir que el orden de evaluación importa. Por lo tanto, la<br />
comprensión y análisis de una función con efectos colaterales requiere<br />
conocimientos acerca de su contexto y su posible historia, lo cual hace más<br />
difícil la corrección de errores. En la programación funcional, los efectos<br />
colaterales se usan con moderación.</p>
<p>Veamos un ejemplo de efecto colateral y cómo podemos evitarlo.</p>
<p>Supongamos que deseamos crear una función que concatene dos <em>arrays</em> que pueden<br />
contener elementos anidados, tratemos de emular el siguiente comportamiento:</p>
<p><strong>concat.test.js.</strong></p>
<pre class="hljs" class="language-js"><code>const concat = require('./concat')

test('should concatenate array on the right with array on the left', () =&gt; {
  const left = [1, [2], 3]
  const right = [[4], 5, [6, 7], 8]
  const expected = [1, [2], 3, [4], 5, [6, 7], 8]

  expect(concat(left, right)).toEqual(expected)
})
</code></pre>
<p>Una implementación inicial puede ser la siguiente:</p>
<p><strong>concat.js.</strong></p>
<pre class="hljs" class="language-js"><code>const concat = (left, right) =&gt; {
  const result = left

  right.map(item =&gt; {
    result.push(item)
  })

  return result
}

module.exports = concat
</code></pre>
<blockquote>
<p><strong>Nota</strong></p>
<p>Ten en cuenta que esta implementación es a modo de ejemplo, en realidad<br />
podríamos usar <a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Referencia/Objetos_globales/Array/concat">Array.prototype.concat()</a> directamente.</p>
</blockquote>
<p>Comprobemos nuestro trabajo:</p>
<pre class="hljs" class="language-js"><code>$ yarn run jest -- concat.test.js

 PASS  ./concat.test.js
   ✓ should concatenate the array on the right with the array on the left (3ms)

   Test Suites: 1 passed, 1 total
   Tests:       1 passed, 1 total
   Snapshots:   0 total
   Time:        0.67s, estimated 1s
   Ran all test suites matching &quot;concat.test.js&quot;.
</code></pre>
<p>Todo parece indicar que nuestra función tiene un comportamiento correcto, ahora<br />
agreguemos un caso de prueba para comprobar que no estamos alterando el contexto<br />
externo:</p>
<p><strong>concat.test.js.</strong></p>
<pre class="hljs" class="language-js"><code>const concat = require('./concat')

test('should concatenate array on the right with array on the left', () =&gt; {
  const left = [1, [2], 3]
  const right = [[4], 5, [6, 7], 8]
  const expected = [1, [2], 3, [4], 5, [6, 7], 8]

  expect(concat(left, right)).toEqual(expected)
})

test('should not mutate external context', () =&gt; {
  const left = [1, [2], 3]
  const right = [[4], 5, [6, 7], 8]
  const backup = Object.assign([], left)

  concat(left, right)

  expect(left).toEqual(backup)
})
</code></pre>
<p>Al ejecutar las pruebas obtenemos lo siguiente:</p>
<pre class="hljs" class="language-js"><code>$ yarn run jest -- concat.test.js
 FAIL  ./concat.test.js
  ● should not mutate external context

    expect(received).toEqual(expected)

    Expected value to equal:
      [1, [2], 3]
    Received:
      [1, [2], 3, [4], 5, [6, 7], 8]

  ...

  ✓ should concatenate the array on the right with the array on the left (4ms)
  ✕ should not mutate external context (6ms)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 1 passed, 2 total
Snapshots:   0 total
Time:        1.011s
Ran all test suites matching &quot;concat.test.js&quot;.
</code></pre>
<p><strong>Ouch!</strong>, con esto se demuestra que nuestra <strong>función no es pura</strong>, pues<br />
estamos alterando el contexto externo, lo cual es un tipo de efecto colateral.</p>
<p>El comportamiento anterior sucede porque los objetos o arreglos pasados a las<br />
funciones como argumento se pasan por referencia, no por copia, lo que significa<br />
que si una función muta una propiedad en un objeto o arreglo, supondría que<br />
dicha mutación sería accesible desde afuera de la función. Las funciones puras<br />
no deben alterar el estado externo.</p>
<p>Si bien el valor de retorno de nuestra función es el esperado, el problema con<br />
la implementación actual es que hemos mutado un estado compartido. Imagina por<br />
un momento que otras funciones pueden depender del estado del arreglo u objeto<br />
asumiendo que su estado es el original (antes de llamar a nuestra función<br />
<code>concat</code>), y ahora que hemos mutado ese estado compartido, tenemos que<br />
preocuparnos por el impacto que tendrá dicho cambio en la lógica del programa si<br />
cambiamos el orden en que se han llamado las funciones. Refactorizar el código<br />
podría resultar en errores apareciendo aquí y allá, lo que podría arruinar la<br />
lógica general de nuestra aplicación, y como resultado muchos clientes<br />
disgustados.</p>
<p>Veamos ahora cómo podemos corregir esta situación:</p>
<p><strong>concat.js.</strong></p>
<pre class="hljs" class="language-js"><code>const concat = (left, right) =&gt; {
  const result = Object.assign([], left)

  right.map(item =&gt; {
    result.push(item)
  })

  return result
}

module.exports = concat
</code></pre>
<p>Ahora al ejecutar las pruebas obtenemos lo siguiente:</p>
<pre class="hljs" class="language-js"><code>$ yarn run jest -- concat.test.js
 PASS  ./concat.test.js
  ✓ should concatenate the array on the right with the array on the left (5ms)
  ✓ should not mutate external context (1ms)

Test Suites: 1 passed, 1 total
Tests:       2 passed, 2 total
Snapshots:   0 total
Time:        0.977s
Ran all test suites matching &quot;concat.test.js&quot;.
</code></pre>
<p>¿Recuerdas que antes habíamos mencionado que podíamos haber usado<br />
<code>Array.prototype.concat</code> directamente?, pues veamos una simplificación del<br />
código:</p>
<p><strong>concat.js.</strong></p>
<pre class="hljs" class="language-js"><code>const concat = (left, right) =&gt; {
  return left.concat(right)
}

module.exports = concat
</code></pre>
<p>Si ejecutas de nuevo las pruebas unitarias verás que cumplimos con todas las<br />
condiciones.</p>
<hr />
<p>NOTA: Es común usar métodos como <code>Array#slice</code>, <code>Array#map</code> o <code>Array#filter</code><br />
además de <code>Array#concat</code> para crear copias de arreglos. En <strong>ES6</strong> también<br />
tenemos el <em>spread operator</em> que nos permite copiar las propiedades enumerables<br />
de un arreglo u objeto de esta forma:</p>
<pre class="hljs" class="language-js"><code>const array = [1, 2, 3];
const arrayCopy = [...a]; // `b` es un nuevo arreglo con los elementos de `a`.

const obj = { foo: 'bar' };
const objCopy = {...obj};
</code></pre>
<hr />
<h2>Beneficios</h2>
<p>Una vez analizadas las funciones puras, volvamos a repasar los beneficios que<br />
ofrecen, tal como vimos en la apertura de esta unidad:</p>
<ul>
<li>Toman ciertos argumentos como entrada y generan un valor de retorno que<br />
exclusivamente depende de los argumentos dados.</li>
<li>Representan bloques de código reusable dentro de un programa.</li>
<li>Promueven buenas prácticas de desarrollo como <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a><br />
(<em>Don’t Repeat Yourself</em>) y <a href="https://en.wikipedia.org/wiki/KISS_principle">KISS</a> (<em>Keep It Simple, Stupid</em>).</li>
<li>Al no depender del contexto externo, son inmunes a toda clase de errores o<br />
<em>bugs</em> que tienen que ver con el estado mutable compartido.</li>
<li>Su naturaleza independiente las hace excelentes candidatos para procesamiento<br />
concurrente a lo largo de muchos CPUs e incluso para la computación<br />
distribuida, lo cual las hace esenciales para la ejecución de tareas de<br />
cálculo científico y de uso intensivo de recursos.</li>
<li>Su aislamiento facilita la refactorización y reorganización del código,<br />
haciendo tú código más adaptable y flexible a futuros cambios.</li>
<li>Es mucho más sencillo el desarrollo de pruebas unitarias contra funciones<br />
puras.</li>
<li>Las funciones puras representan la base de la programación funcional.</li>
</ul>
<p>Por las razones antes mencionadas, recomendamos favorecer la implementación de<br />
funciones puras. Por lo tanto, siempre que sea práctico implementar los<br />
requerimientos de un programa usando funciones puras, debes darle preferencia<br />
sobre otras opciones.</p>
<h2>Referencias</h2>
<ul>
<li>Conrad Barski. 2010. Land of Lisp: Learn to Program in Lisp, One Game at a<br />
Time! (1st ed.). No Starch Press, San Francisco, CA, USA. Page 301.</li>
<li><a href="https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-pure-function-d1c076bec976">Master the JavaScript Interview: What is a Pure Function?</a>. En Medium.<br />
Consultado el 11 de Julio de 2017</li>
<li><a href="https://en.wikipedia.org/wiki/Side_effect_(computer_science)">Side effect (computer science)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Imperative_programming">Imperative Programming</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase">String.prototype.toLowerCase()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random">Math.random()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleDateString">Date.prototype.toLocaleDateString()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat">Array.prototype.concat()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign">Object.assign()</a></li>
</ul>
<h2>Notas al pie</h2>
<ol>
<li>Algunas veces necesitamos aplanar árboles u objetos muy anidados que son<br />
resultado de una consulta o <em>query</em>, un patrón común es convertirlos en<br />
arreglos o <em>arrays</em> para luego poder aplicar operaciones como <code>filter()</code> o<br />
<code>map()</code> sobre ellos.</li>
</ol>

    </div>

  </template>
    <script>
        Polymer({
            is: "unit-README",
            ready: function () {
                hljs.initHighlightingOnLoad();
            }
        });
    </script>
</dom-module>